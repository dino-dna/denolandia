{
  "name": "api",
  "version": "0.0.1",
  "main": "build/index.js",
  "types": "build/typings/index.d.ts",
  "private": true,
  "license": "PRIVATE",
  "scripts": {
    "bootstrap": "cd ../../ ; yarn bootstrap",
    "build": "tsc",
    "clean": "rm -rf build",
    "compiler:start": "tsc --watch",
    "compiler:wait:build": "node scripts/compiler-wait-build.js",
    "db:container:kill": "docker rm -f denolandiadb || true",
    "db:container:start": "docker run --rm -d --name=denolandiadb -p 5432:5432 postgres:11-alpine -c \"log_statement=all\" -c \"log_min_error_statement=error\"",
    "db:migrate:down": "knex --cwd ./build migrate:rollback",
    "db:migrate:up": "knex --cwd ./build migrate:latest && echo 'weeeeee!'",
    "db:migrate": "run-s compiler:wait:build db:migrate:down db:migrate:up",
    "db:migration:create": "knex migrate:make -x ts",
    "db:migration:mark": "touch build/migration_complete",
    "db:reset": "run-s db:migrate:down db:migrate:up",
    "db:start": "run-s db:container:kill db:container:start db:wait:connection compiler:wait:build db:migrate:up",
    "db:wait:connection": "node scripts/db-wait-connection.js",
    "db:wait:migrated": "while [ ! -f build/migration_complete ]; do echo 'no migration file'; sleep 1; done",
    "format": "prettier-standard \"{src,scripts}/**/*.{js,json,ts}\"",
    "lint-staged": "lint-staged",
    "lint": "standard \"{src,scripts}/**/*.js\"",
    "postdb:migrate:up": "run-p db:migration:mark project:typings:build",
    "precompiler:start": "run-s clean",
    "preserver:start": "run-s compiler:wait:build db:wait:connection",
    "prestart:prod": "run-s db:migrate:up",
    "project:typings:build": "node build/util/create-schema-typings.js",
    "server:run:bin": "nodemon --verbose build/bin.js",
    "server:run:bin:prod": "node build/bin.js",
    "server:start": "run-p server:run:bin",
    "server:wait:ready": "node scripts/api-wait-connection.js",
    "services:start": "run-s db:start server:start",
    "start:prod": "run-p server:run:bin:prod",
    "start": "run-p compiler:start services:start",
    "test": "cross-env NODE_ENV=test ava"
  },
  "dependencies": {
    "@gql2ts/from-schema": "^1.10.1",
    "auth0": "^2.14.0",
    "bluebird": "^3.5.3",
    "common": "^0.0.1",
    "csv-parse": "^4.0.1",
    "debug": "^4.0.1",
    "dotenv": "^6.0.0",
    "fs-extra": "^7.0.1",
    "invariant": "^2.2.2",
    "jsonwebtoken": "^8.4.0",
    "jwks-rsa": "^1.3.0",
    "knex": "^0.15.2",
    "koa": "^2.6.2",
    "koa-bodyparser": "^4.2.1",
    "koa-compress": "^3.0.0",
    "koa-cors": "^0.0.16",
    "koa-helmet": "^4.0.0",
    "koa-jwt": "^3.5.1",
    "koa-mount": "^4.0.0",
    "koa-multer": "^1.0.2",
    "koa-pino-logger": "^2.1.1",
    "koa-router": "^7.4.0",
    "koa-static": "^5.0.0",
    "lodash": "^4.17.11",
    "luxon": "^1.8.2",
    "nanographql": "^2.0.0",
    "node-fetch": "^2.3.0",
    "npm-run-all": "^4.1.5",
    "number-to-words": "^1.2.4",
    "package-scraper": "*",
    "perish": "^1.0.1",
    "pg": "^7.7.1",
    "pino": "^5.9.0",
    "pino-pretty": "^2.3.0",
    "postgraphile": "^4.1.0",
    "postgraphile-upsert-plugin":"^1.0.4",
    "postgraphile-plugin-connection-filter": "^1.0.0-beta.17",
    "promise-retry": "^1.1.1",
    "rxjs": "^6.3.3",
    "socket.io": "^2.2.0",
    "tempy": "^0.2.1"
  },
  "author": "cdaringe",
  "devDependencies": {
    "@gql2ts/types": " ^1.8.0",
    "@types/auth0": "^2.9.4",
    "@types/bluebird": "^3.5.23",
    "@types/csv-parse": "^1.1.11",
    "@types/debug": "^0.0.30",
    "@types/fs-extra": "^5.0.4",
    "@types/graphql": "^14.0.1",
    "@types/jsonwebtoken": "^7.2.8",
    "@types/knex": "^0.14.14",
    "@types/koa": "^2.0.46",
    "@types/koa-helmet": "^3.1.2",
    "@types/koa-jwt": "^3.3.0",
    "@types/koa-mount": "^3.0.1",
    "@types/koa-multer": "^1.0.0",
    "@types/koa-router": "^7.0.30",
    "@types/koa-static": "^4.0.0",
    "@types/lodash": "^4.14.110",
    "@types/luxon": "^1.4.0",
    "@types/nanographql": "^2.0.0",
    "@types/node": "^10.5.0",
    "@types/node-fetch": "^2.1.1",
    "@types/pg": "^7.4.10",
    "@types/pino": "^5.6.0",
    "@types/promise-retry": "^1.1.2",
    "@types/tempy": "^0.1.0",
    "ava": "1.0.0-beta.8",
    "chokidar": "^2.0.4",
    "cross-env": "^5.2.0",
    "lint-staged": "^8.1.0",
    "nodemon": "^1.18.7",
    "pg-copy-streams": "^1.2.0",
    "prettier-standard": "^8.0.1",
    "typescript": "^3.2.1"
  },
  "ava": {
    "babel": false,
    "compileEnhancements": false
  },
  "resolutions": {
    "postgraphile/graphql": "0.12.3",
    "@gql2ts/from-schema/graphql": "0.12.3",
    "@gql2ts/util/node_modules/graphql": "0.12.3"
  },
  "lint-staged": {
    "linters": {
      "{src,scripts}/**/*.{js,json,ts}": [
        "prettier-standard",
        "git add"
      ]
    }
  },
  "nodemonConfig": {
    "ignore": [
      "assets/*",
      "build/*",
      "test/*",
      "./**/*.d.ts"
    ],
    "delay": "500"
  }
}
